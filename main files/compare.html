<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Compare Products — Crystal Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="style.css">
</head>

<body>
<body>
  <!-- ================= NAVBAR ================= -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
       <div class="brand-wrap">
  <img src="../assets/team/logo.png" alt="Crystal Logo" class="logo-dot">
  <a class="navbar-brand" href="index.html">Crystal Products</a>
</div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu"
        aria-controls="navmenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navmenu">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="newarrival.html">New Arrival</a></li>
        <li class="nav-item"><a class="nav-link" href="specialoffers.html">Specialoffers</a></li>
        
        <li class="nav-item"><a class="nav-link" href="product.html">Products</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      </ul>
        <div class="nav-buttons d-flex gap-2 ms-auto">
          <button class="btn-compare" onclick="window.location.href='compare.html'">Compare</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- ================= COMPARE SECTION ================= -->
  <div class="container-narrow compare-page">
    <h1 class="page-title">Compare Crystals</h1>
    <p class="intro">Select two crystals and a product type to see detailed comparison including price, benefits, and recommendations.</p>

    <!-- Controls -->
    <div class="controls mt-4 p-3 shadow-sm rounded-3 bg-light">
      <div class="d-flex flex-wrap gap-3">
        <div style="min-width:240px">
          <label class="form-label mb-1" for="firstCrystal">First Crystal (Products)</label>
          <select id="firstCrystal" class="form-select"></select>
        </div>
        <div style="min-width:240px">
          <label class="form-label mb-1" for="secondCrystal">Second Crystal (Chakra)</label>
          <select id="secondCrystal" class="form-select"></select>
        </div>
        <div style="min-width:220px">
          <label class="form-label mb-1" for="productType">Product Type</label>
          <select id="productType" class="form-select">
            <option value="All">All Types</option>
            <option value="Bracelets">Bracelets</option>
            <option value="Rings">Rings</option>
            <option value="Necklaces">Necklaces</option>
            <option value="Pendants">Pendants</option>
            <option value="Earrings">Earrings</option>
            <option value="Bangles">Bangles</option>
          </select>
        </div>
        <div class="ms-auto d-flex gap-2 align-items-end">
          <button id="btnCompare" class="btn btn-lg btn-detail">Compare</button>
          <button id="btnReset" class="btn btn-ghost">Reset</button>
        </div>
      </div>
    </div>

    <!-- Results -->
    <div id="compareResults" class="compare-results mt-4">
      <div class="compare-grid">
        <div class="compare-column" id="colA">
          <h4 id="colAHeading">First Crystal</h4>
          <div id="colACards" class="cards"></div>
        </div>
        <div class="compare-column" id="colB">
          <h4 id="colBHeading">Second Crystal</h4>
          <div id="colBCards" class="cards"></div>
        </div>
      </div>
      <div id="summaryWrap" class="summary-wrap mt-3"></div>
    </div>
  </div>
<!-- ================= CONTACT US — CENTERED & SLIM ================= -->
<section class="contact-banner">
  <div class="container text-center">
    <h2>Contact Us</h2><br>
   <p>
  Stay connected with Crystal Products embrace harmony, healing, and the magic of natural energy. <br>
  Let your inner light shine through every crystal you hold. <br>
  We’re here to guide your journey toward balance and beauty.
</p>
<br>
    <form class="contact-form">
      <input type="email" class="form-control" placeholder="Enter your email" required>
      <button class="btn btn-send" type="submit">Send</button>
    </form>
  </div>
</section>
  <!-- ================= FOOTER ================= -->
  <footer class="footer mt-5">
    <div class="container-fluid footer-inner">
      <div class="row">
        <!-- About -->
        <div class="col-lg-4 footer-left mb-4">
          <h4 class="footer-heading">About the Crystals</h4>
          <p>Our crystals are ethically sourced and cleansed with positive energy — designed to uplift your spirit and bring harmony to your life.</p>
        </div>

        <!-- Quick Links & Products -->
        <div class="col-lg-4 footer-middle mb-4 d-flex gap-4">
          <div class="footer-section">
            <h4 class="footer-heading">Quick Links</h4>
            <ul class="footer-nav list-unstyled">
              <li><a href="index.html">Home</a></li>
              <li><a href="products.html">Shop</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4 class="footer-heading">Quick Access</h4>
            <ul class="footer-products list-unstyled">
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Necklaces</a></li>
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Rings</a></li>
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Bracelets</a></li>
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Pendants</a></li>
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Earrings</a></li>
              <li><a href="#" data-bs-toggle="modal" data-bs-target="#productModal">Bangles</a></li>
            </ul>
          </div>
        </div>

        <!-- Social -->
        <div class="col-lg-4 footer-right mb-4">
          <h4 class="footer-heading">Follow Us</h4>
          <div class="socials d-flex gap-3">
            <!-- Instagram, Facebook, WhatsApp icons here -->
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom text-center mt-3">
      <small>© 2025 Crystal Products · Crafted with Light & Love · All Rights Reserved</small>
    </div>
  </footer>

  <!-- ================= SCRIPTS ================= -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="compare.js"></script> <!-- Your existing JS file -->
</body>

  <script>
    const productStones = ['Diamond', 'Ruby', 'Emerald', 'Amethyst', 'Zircon', 'Pearl'];
    const chakraStones = ['Black Tourmaline', 'Carnelian', 'Citrine', 'Rose Quartz', 'Aquamarine', 'Amethyst', 'Clear Quartz'];
    const productTypes = ['Bracelets', 'Rings', 'Necklaces', 'Pendants', 'Earrings', 'Bangles'];
    const SHARED_PRODUCTS = [];

    function slug(s) { return s.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, ''); }

    // Products
    productStones.forEach(stone => {
      for (let i = 1; i <= 6; i++) {
        const type = productTypes[(i - 1) % productTypes.length];
        SHARED_PRODUCTS.push({
          id: `${slug(stone)}-products-${i}`,
          name: `${stone} ${type.slice(0, -1)} ${i}`,
          stone, type,
          price: (300 + i * 45 + Math.random() * 40).toFixed(2),
          img: `assets/products/${stone}-${i}.png`,
          desc: `${stone} ${type.slice(0, -1)} — premium handcrafted piece.`,
          source: 'products'
        });
      }
    });

    // Chakra
    chakraStones.forEach(stone => {
      for (let i = 1; i <= 6; i++) {
        const type = productTypes[(i - 1) % productTypes.length];
        SHARED_PRODUCTS.push({
          id: `${slug(stone)}-chakra-${i}`,
          name: `${stone} ${type.slice(0, -1)} ${i}`,
          stone, type,
          price: (180 + i * 30 + Math.random() * 30).toFixed(2),
          img: `assets/chakra/${slug(stone)}_${i}.png`,
          desc: `${stone} ${type.slice(0, -1)} — chakra-aligned, handpicked.`,
          source: 'chakra'
        });
      }
    });

    window.SHARED_PRODUCTS = SHARED_PRODUCTS;

    const BENEFITS = {
      'Diamond': 'Confidence, clarity, strength. Timeless luxury and durability—excellent for daily wear with care.',
      'Ruby': 'Vitality, passion, protection. Bright, durable stone suitable for rings and pendants.',
      'Emerald': 'Love, insight, balance. Elegant for necklaces and rings; treat carefully for knocks.',
      'Amethyst': 'Calm, intuition, sleep support. Versatile and wearable in many forms.',
      'Zircon': 'Grounding sparkle; affordable brilliance. Good for occasional to regular wear.',
      'Pearl': 'Purity, softness, emotional balance. Softer—avoid rough handling and chemicals.',
      'Black Tourmaline': 'Protection, grounding. Great in bracelets and pendants for everyday carry.',
      'Carnelian': 'Creativity, energy, confidence. Durable for daily wear in many jewelry types.',
      'Citrine': 'Abundance, joy, motivation. Tough and bright—great for frequent wear.',
      'Rose Quartz': 'Love, compassion, heart healing. Softer—best for necklaces/pendants rather than rings.',
      'Aquamarine': 'Communication, calm, clarity. Moderately durable; good for necklaces and earrings.',
      'Clear Quartz': 'Amplification, clarity, versatile healer. Durable and multipurpose for daily wear.'
    };

    const WEARABILITY_BY_TYPE = {
      'Bracelets': 'High', 'Rings': 'High', 'Necklaces': 'High', 'Pendants': 'High', 'Earrings': 'High', 'Bangles': 'High'
    };

    const firstSelect = document.getElementById('firstCrystal');
    const secondSelect = document.getElementById('secondCrystal');
    const typeSelect = document.getElementById('productType');
    const btnCompare = document.getElementById('btnCompare');
    const btnReset = document.getElementById('btnReset');
    const colAHeading = document.getElementById('colAHeading');
    const colBHeading = document.getElementById('colBHeading');
    const colACards = document.getElementById('colACards');
    const colBCards = document.getElementById('colBCards');
    const summaryWrap = document.getElementById('summaryWrap');

    function populate() {
      firstSelect.innerHTML = productStones.map(s => `<option value="${s}">${s}</option>`).join('');
      secondSelect.innerHTML = chakraStones.map(s => `<option value="${s}">${s}</option>`).join('');
      firstSelect.selectedIndex = 0; secondSelect.selectedIndex = 0;
    }

    function cardHtml(p) {
      const benefit = BENEFITS[p.stone] || '';
      const wear = WEARABILITY_BY_TYPE[p.type] || 'Medium';
      return `
    <div class="card" data-id="${p.id}">
      <img src="${p.img}" alt="${p.name}" onerror="this.onerror=null;this.src='https://via.placeholder.com/600x400?text=No+Image'">
      <div class="card-body">
        <div class="card-title">${p.name}</div>
        <div class="card-meta">${p.type} · ${p.stone}</div>
        <div class="benefit"><strong>Benefit:</strong> ${benefit}</div>
        <div class="benefit"><strong>Wearability:</strong> ${wear}</div>
      </div>
      <div class="card-foot">
        <div style="font-weight:800;color:#7a4356">$${p.price}</div>
        <div><a class="btn-detail" href="product-detail.html?id=${encodeURIComponent(p.id)}">View</a></div>
      </div>
    </div>`;
    }

    function parsePrice(v) { return Number(String(v).replace(/[^0-9.-]+/g, '')) || 0; }

    function getProductsFor(stoneName, source, typeFilter) {
      return SHARED_PRODUCTS.filter(p =>
        p.stone.toLowerCase() === stoneName.toLowerCase() &&
        p.source === source &&
        (typeFilter === 'All' || p.type.toLowerCase() === typeFilter.toLowerCase())
      );
    }

    function produceRecommendation(aStone, bStone, avgA, avgB) {
      let priceNote = '';
      if (avgA === 0 && avgB === 0) priceNote = 'No matching items found.';
      else if (avgA === avgB) priceNote = `Both have similar average price ($${avgA.toFixed(2)}). Choose based on benefit.`;
      else { const cheaper = (avgA < avgB) ? aStone : bStone; const diff = Math.abs(avgA - avgB).toFixed(2); priceNote = `${cheaper} is cheaper on average by $${diff}.`; }

      const aBenefit = BENEFITS[aStone] || '';
      const bBenefit = BENEFITS[bStone] || '';
      let benefitNote = '';
      if (aBenefit && bBenefit) benefitNote = `Benefits: ${aStone} — ${aBenefit.split('. ')[0]}. ${bStone} — ${bBenefit.split('. ')[0]}.`;

      let pick = '';
      if (avgA === 0 && avgB === 0) pick = 'No items to recommend.';
      else {
        const quality = { 'Diamond': 5, 'Ruby': 4.5, 'Emerald': 4.5, 'Amethyst': 3.8, 'Zircon': 3.2, 'Pearl': 3.6, 'Black Tourmaline': 3.6, 'Carnelian': 3.5, 'Citrine': 3.7, 'Rose Quartz': 3.4, 'Aquamarine': 3.8, 'Clear Quartz': 3.3 };
        const sa = (quality[aStone] || 3.5) / Math.max(1, avgA);
        const sb = (quality[bStone] || 3.5) / Math.max(1, avgB);
        pick = (sa > sb) ? `${aStone} is the better value choice.` : `${bStone} is the better value choice.`;
      }
      return { priceNote, benefitNote, pick };
    }

    function renderResults() {
      const aStone = firstSelect.value;
      const bStone = secondSelect.value;
      const selType = typeSelect.value;

      colAHeading.textContent = `${aStone} — Products`;
      colBHeading.textContent = `${bStone} — Chakra Items`;

      const leftList = getProductsFor(aStone, 'products', selType);
      const rightList = getProductsFor(bStone, 'chakra', selType);

      colACards.innerHTML = leftList.length ? leftList.map(cardHtml).join('') : `<div class="empty">No matching ${selType === 'All' ? 'products' : selType.toLowerCase()} found for ${aStone}.</div>`;
      colBCards.innerHTML = rightList.length ? rightList.map(cardHtml).join('') : `<div class="empty">No matching ${selType === 'All' ? 'products' : selType.toLowerCase()} found for ${bStone}.</div>`;

      const avgA = leftList.length ? (leftList.reduce((s, p) => s + parsePrice(p.price), 0) / leftList.length) : 0;
      const avgB = rightList.length ? (rightList.reduce((s, p) => s + parsePrice(p.price), 0) / rightList.length) : 0;

      const rec = produceRecommendation(aStone, bStone, avgA, avgB);

      summaryWrap.innerHTML = `
    <div class="summary">
      <div style="flex:1">
        <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <div class="pill">Avg price ${aStone}: ${avgA ? ('$' + avgA.toFixed(2)) : '—'}</div>
          <div class="pill">Avg price ${bStone}: ${avgB ? ('$' + avgB.toFixed(2)) : '—'}</div>
          <div style="padding:8px;border-radius:10px;background:#fff;border:1px solid rgba(198,78,120,0.06);font-weight:700">${rec.priceNote}</div>
        </div>
        <div style="margin-top:8px;color:#6b3f4a">${rec.benefitNote}</div>
      </div>
      <div style="min-width:220px;text-align:right">
        <div style="font-weight:800;color:#7a4356">${rec.pick}</div>
        <div style="font-size:13px;color:#86515f;margin-top:6px">Tip: choose based on the benefit you need (see card benefits). For daily durability choose harder stones and secure settings.</div>
      </div>
    </div>
  `;
      document.getElementById('compareResults').scrollIntoView({ behavior: 'smooth' });
    }

    function resetAll() {
      populate();
      typeSelect.value = 'All';
      colACards.innerHTML = '<div class="empty">Choose crystals and type, then click Compare.</div>';
      colBCards.innerHTML = '<div class="empty">Choose crystals and type, then click Compare.</div>';
      colAHeading.textContent = 'First Crystal';
      colBHeading.textContent = 'Second Crystal';
      summaryWrap.innerHTML = '';
    }

    populate();
    resetAll();
    btnCompare.addEventListener('click', () => renderResults());
    btnReset.addEventListener('click', () => resetAll());
    [firstSelect, secondSelect, typeSelect].forEach(el => { el.addEventListener('keyup', e => { if (e.key === 'Enter') btnCompare.click(); }); });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>